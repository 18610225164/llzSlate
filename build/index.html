
<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>Fulfillment 开放平台接口</title>

    <style>
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight .gh {
  color: #999999;
}
.highlight .sr {
  color: #f6aa11;
}
.highlight .go {
  color: #888888;
}
.highlight .gp {
  color: #555555;
}
.highlight .gs {
}
.highlight .gu {
  color: #aaaaaa;
}
.highlight .nb {
  color: #f6aa11;
}
.highlight .cm {
  color: #75715e;
}
.highlight .cp {
  color: #75715e;
}
.highlight .c1 {
  color: #75715e;
}
.highlight .cs {
  color: #75715e;
}
.highlight .c, .highlight .cd {
  color: #75715e;
}
.highlight .err {
  color: #960050;
}
.highlight .gr {
  color: #960050;
}
.highlight .gt {
  color: #960050;
}
.highlight .gd {
  color: #49483e;
}
.highlight .gi {
  color: #49483e;
}
.highlight .ge {
  color: #49483e;
}
.highlight .kc {
  color: #66d9ef;
}
.highlight .kd {
  color: #66d9ef;
}
.highlight .kr {
  color: #66d9ef;
}
.highlight .no {
  color: #66d9ef;
}
.highlight .kt {
  color: #66d9ef;
}
.highlight .mf {
  color: #ae81ff;
}
.highlight .mh {
  color: #ae81ff;
}
.highlight .il {
  color: #ae81ff;
}
.highlight .mi {
  color: #ae81ff;
}
.highlight .mo {
  color: #ae81ff;
}
.highlight .m, .highlight .mb, .highlight .mx {
  color: #ae81ff;
}
.highlight .sc {
  color: #ae81ff;
}
.highlight .se {
  color: #ae81ff;
}
.highlight .ss {
  color: #ae81ff;
}
.highlight .sd {
  color: #e6db74;
}
.highlight .s2 {
  color: #e6db74;
}
.highlight .sb {
  color: #e6db74;
}
.highlight .sh {
  color: #e6db74;
}
.highlight .si {
  color: #e6db74;
}
.highlight .sx {
  color: #e6db74;
}
.highlight .s1 {
  color: #e6db74;
}
.highlight .s {
  color: #e6db74;
}
.highlight .na {
  color: #a6e22e;
}
.highlight .nc {
  color: #a6e22e;
}
.highlight .nd {
  color: #a6e22e;
}
.highlight .ne {
  color: #a6e22e;
}
.highlight .nf {
  color: #a6e22e;
}
.highlight .vc {
  color: #ffffff;
}
.highlight .nn {
  color: #ffffff;
}
.highlight .nl {
  color: #ffffff;
}
.highlight .ni {
  color: #ffffff;
}
.highlight .bp {
  color: #ffffff;
}
.highlight .vg {
  color: #ffffff;
}
.highlight .vi {
  color: #ffffff;
}
.highlight .nv {
  color: #ffffff;
}
.highlight .w {
  color: #ffffff;
}
.highlight {
  color: #ffffff;
}
.highlight .n, .highlight .py, .highlight .nx {
  color: #ffffff;
}
.highlight .ow {
  color: #f92672;
}
.highlight .nt {
  color: #f92672;
}
.highlight .k, .highlight .kv {
  color: #f92672;
}
.highlight .kn {
  color: #f92672;
}
.highlight .kp {
  color: #f92672;
}
.highlight .o {
  color: #f92672;
}
    </style>
    <link href="stylesheets/screen.css" rel="stylesheet" media="screen" />
    <link href="stylesheets/print.css" rel="stylesheet" media="print" />
      <script src="javascripts/all.js"></script>
  </head>

  <body class="index" data-languages="[&quot;http&quot;]">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar.png" alt="Navbar" />
      </span>
    </a>
    <div class="toc-wrapper">
      <img src="images/logo.png" class="logo" alt="Logo" />
        <div class="lang-selector">
              <a href="#" data-language-name="http">HTTP</a>
        </div>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <div id="toc" class="toc-list-h1">
          <li>
            <a href="#27444518c5" class="toc-h1 toc-link" data-title="">开放平台接口介绍</a>
          </li>
          <li>
            <a href="#d1f43e5a27" class="toc-h1 toc-link" data-title="">入口地址</a>
          </li>
          <li>
            <a href="#d972c0c140" class="toc-h1 toc-link" data-title="">接口规范</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#1e30c2b374" class="toc-h2 toc-link" data-title="">基本规范</a>
                  </li>
                  <li>
                    <a href="#56ba76d854" class="toc-h2 toc-link" data-title="">返回数据基本结构</a>
                  </li>
                  <li>
                    <a href="#7a43bd6f10" class="toc-h2 toc-link" data-title="">国际化</a>
                  </li>
                  <li>
                    <a href="#26b238cb1d" class="toc-h2 toc-link" data-title="">注意事项</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#964b514762" class="toc-h1 toc-link" data-title="">安全规范</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#7b81b8ce22" class="toc-h2 toc-link" data-title="">签名算法</a>
                  </li>
                  <li>
                    <a href="#26b238cb1d-2" class="toc-h2 toc-link" data-title="">注意事项</a>
                  </li>
                  <li>
                    <a href="#11769ac9b1" class="toc-h2 toc-link" data-title="">生成随机数算法</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#open_api" class="toc-h1 toc-link" data-title="open_api">open_api</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#post-open-goodsstock" class="toc-h2 toc-link" data-title="code-post-code-code-open-goodsstock-code">仓库库存查询 <code>POST</code> <code>/open/goodsStock</code></a>
                  </li>
                  <li>
                    <a href="#post-open-returnwarehouseadd" class="toc-h2 toc-link" data-title="code-post-open-returnwarehouseadd-code">出库单添加 <code>POST /open/returnWarehouseAdd</code></a>
                  </li>
                  <li>
                    <a href="#post-order-addorder" class="toc-h2 toc-link" data-title="code-post-code-code-order-addorder-code">发货单新增 <code>POST</code> <code>/Order/addOrder</code></a>
                  </li>
                  <li>
                    <a href="#post-arrival_notice-create" class="toc-h2 toc-link" data-title="code-post-code-code-arrival_notice-create-code">入库通知单新增 <code>POST</code> <code>/arrival_notice/create</code></a>
                  </li>
                  <li>
                    <a href="#post-rollback_order-add" class="toc-h2 toc-link" data-title="code-post-code-code-rollback_order-add-code">销退单新增 <code>POST</code> <code>/rollback_order/add</code></a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#b4de2c052f" class="toc-h1 toc-link" data-title="">常量表</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#response_code" class="toc-h2 toc-link" data-title="code">返回码 (code)</a>
                  </li>
                  <li>
                    <a href="#express_category" class="toc-h2 toc-link" data-title="expresscategory">产品类型 (expressCategory)</a>
                  </li>
                  <li>
                    <a href="#article_category" class="toc-h2 toc-link" data-title="articlecategory">物品类型 (articleCategory)</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#demo" class="toc-h1 toc-link" data-title="demo">Demo 下载</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#demo-csharp" class="toc-h2 toc-link" data-title="c-demo">C# Demo</a>
                  </li>
                  <li>
                    <a href="#demo-php" class="toc-h2 toc-link" data-title="php-demo">PHP Demo</a>
                  </li>
                  <li>
                    <a href="#demo-java" class="toc-h2 toc-link" data-title="java-demo">Java Demo</a>
                  </li>
              </ul>
          </li>
      </div>
        <ul class="toc-footer">
            <li><a href="/en.html">English</a></li>
            <li><a href="/th.html">ภาษาไทย</a></li>
            <li><a href="http://www.fulfillment.com">Fulfillment</a></li>
        </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id='27444518c5'>开放平台接口介绍</h1>
<p>欢迎使用</p>
<h1 id='d1f43e5a27'>入口地址</h1>
<p>API Base Endpoints:</p>

<table><thead>
<tr>
<th>Env</th>
<th>Endpoint</th>
</tr>
</thead><tbody>
<tr>
<td>Sandbox</td>
<td>https://api-sandbox.fulfillment.com</td>
</tr>
<tr>
<td>Production</td>
<td>https://api.fulfillment.com</td>
</tr>
</tbody></table>
<h1 id='d972c0c140'>接口规范</h1><h2 id='1e30c2b374'>基本规范</h2>
<ul>
<li>传输方式 为保证安全性, 采用 HTTPS 传输</li>
<li>提交方式 采用 POST 方法提交</li>
<li>数据格式 提交数据采用 <code>application/x-www-form-urlencoded</code> 格式, 返回数据采用 <code>json</code> 格式</li>
<li>字符编码 统一采用 UTF-8 字符编码</li>
<li>签名算法 SHA256</li>
<li>签名要求 请求数据需要校验签名, 详细方法请参考安全规范-签名算法</li>
</ul>
<h2 id='56ba76d854'>返回数据基本结构</h2>
<blockquote>
<p>返回数据基本结构示例</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="s2">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"success"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>接口返回数据格式为 JSON, 接口返回数据的基本结构包含三个参数</p>

<table><thead>
<tr>
<th>名称</th>
<th>数据类型</th>
<th>说明</th>
</tr>
</thead><tbody>
<tr>
<td>code</td>
<td>integer</td>
<td><a href="#response_code">返回码</a></td>
</tr>
<tr>
<td>message</td>
<td>string</td>
<td>错误消息</td>
</tr>
<tr>
<td>data</td>
<td>object</td>
<td>业务数据, 参考各个接口返回数据</td>
</tr>
</tbody></table>
<h2 id='7a43bd6f10'>国际化</h2>
<blockquote>
<p>国际化调用示例</p>
</blockquote>
<pre class="highlight http tab-http"><code><span class="nf">POST</span> <span class="nn">/open/v1/ping</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">api-sandbox.fulfillment.com</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Accept-Language</span><span class="p">:</span> <span class="s">th</span>
</code></pre>
<p>目前接口支持中文(<code>zh-CN</code>)和泰文(<code>th</code>). 需要注意 <strong>目前行政区划数据不支持国际化，只支持泰文</strong></p>

<p>可以通过添加 HTTP Request Header: <code>Accept-Language</code> 来切换语言</p>
<h2 id='26b238cb1d'>注意事项</h2>
<aside class="notice">
重量单位为克(g), 调用接口之前必须先将千克转换成克, 比如: 2Kg -> 2000g
</aside>

<aside class="notice">
金额货币虚拟 分 概念单位, 1泰铢 = 100分, 调用接口前必须将泰铢转换成分
</aside>
<h1 id='964b514762'>安全规范</h1><h2 id='7b81b8ce22'>签名算法</h2>
<p>签名生成的通用步骤如下：</p>

<blockquote>
<p>a. 假设传送的参数</p>
</blockquote>
<pre class="highlight yaml"><code><span class="na">mch_id</span><span class="pi">:</span> <span class="s">5a7bdfd22593414adb72df5f</span>
<span class="na">nonce_str</span><span class="pi">:</span> <span class="s">yyv6YJP436wCkdpNdghC</span>
<span class="na">body</span><span class="pi">:</span> <span class="s">test</span>
</code></pre>
<blockquote>
<p>b. 对参数按照key=value的格式，并按照参数名ASCII字典序排序如下：</p>
</blockquote>
<pre class="highlight yaml"><code><span class="s">stringA="body=test&amp;mch_id=5a7bdfd22593414adb72df5f&amp;nonce_str=yyv6YJP436wCkdpNdghC"</span>
</code></pre>
<blockquote>
<p>c. 拼接API密钥:</p>
</blockquote>
<pre class="highlight yaml"><code><span class="s">stringSignTemp=stringA+"&amp;key=dd807a8e18b40153888e5a9864e70080" //注:key为平台预分配的密钥key</span>

<span class="s">sign=sha256(stringSignTemp).toUpperCase()="BF46380E893F6B8F5486D2EDFE265BB8942C6A9BD5C897E34373734CE08B4B67" // 注:SHA256签名方式</span>
</code></pre>
<blockquote>
<p>d. 最终发送参数如:</p>
</blockquote>
<pre class="highlight yaml"><code><span class="na">mch_id</span><span class="pi">:</span> <span class="s">5a7bdfd22593414adb72df5f</span>
<span class="na">nonce_str</span><span class="pi">:</span> <span class="s">yyv6YJP436wCkdpNdghC</span>
<span class="na">body</span><span class="pi">:</span> <span class="s">test</span>
<span class="na">sign</span><span class="pi">:</span> <span class="s">BF46380E893F6B8F5486D2EDFE265BB8942C6A9BD5C897E34373734CE08B4B67</span>
</code></pre>
<p>第一步, 设所有发送或者接收到的数据为集合 M, 将集合 M 内非空参数值的参数按照参数名 ASCII 码从小到大排序(字典序), 使用 URL 键值对的格式 (即 <code>key1=value1&amp;key2=value2…</code>) 拼接成字符串 stringA.
特别注意以下重要规则:</p>

<ul>
<li>参数名 ASCII 码从小到大排序(字典序)</li>
<li>如果参数的值为空不参与签名</li>
<li>参数名区分大小写</li>
<li>验证调用返回或主动通知签名时, 传送的 sign 参数不参与签名, 将生成的签名与该 sign 值作校验</li>
<li>接口可能增加字段, 验证签名时必须支持增加的扩展字段</li>
</ul>

<p>第二步, 在 stringA 最后拼接上 key 得到 stringSignTemp 字符串, 并对 stringSignTemp 进行 SHA256 运算, 再将得到的字符串所有字符转换为大写, 得到 sign 值 signValue.</p>

<aside class="success">
安全密钥 key 请联系官方支持人员获取或重置
</aside>
<h2 id='26b238cb1d-2'>注意事项</h2>
<blockquote>
<p>传输空值是被允许的, 但不参与签名</p>
</blockquote>
<pre class="highlight css tab-css"><code><span class="c">/* 假设 body 为空值 */</span>
<span class="nt">body</span> <span class="o">=</span> <span class="s1">" \t\n"</span>

<span class="c">/* 则 body 不参与签名, 但是依然可以传输 */</span>
<span class="nt">body</span><span class="o">=%</span><span class="nt">20</span><span class="o">%</span><span class="nt">09</span><span class="o">%</span><span class="nt">0A</span><span class="o">&amp;</span><span class="nt">mch_id</span><span class="o">=</span><span class="nt">5a7bdfd22593414adb72df5f</span><span class="o">&amp;</span><span class="nt">nonce_str</span><span class="o">=</span><span class="nt">yyv6YJP436wCkdpNdghC</span><span class="o">&amp;</span><span class="nt">sign</span><span class="o">=</span><span class="nt">E893F6B8F5486D2EDFE265BB8942C6A9BD5C897E34373734CE08B4B67BF46380</span>
</code></pre>
<aside class="notice">
如果有某个值为空, 可以正常传输, 但计算签名时不要计算在内. 空值指完全由空白字符构成的字符串, 空白字符如下：
</aside>

<ul>
<li><code>\u0009</code> 水平制表符 <code>\t</code></li>
<li><code>\u000A</code> 换行 <code>\n</code></li>
<li><code>\u000B</code> 纵向制表符</li>
<li><code>\u000C</code> 换页 <code>\f</code></li>
<li><code>\u000D</code> 回车 <code>\r</code></li>
<li><code>\u001C</code> 文件分隔符</li>
<li><code>\u001D</code> 组分隔符</li>
<li><code>\u001E</code> 记录分隔符</li>
<li><code>\u001F</code> 单元分隔符</li>
</ul>

<blockquote>
<p>数据在签名完成后, 传输之前需要进行 urlencode</p>
</blockquote>
<pre class="highlight css tab-css"><code><span class="c">/* 假设 body 值如下 */</span>
<span class="nt">body</span> <span class="o">=</span> <span class="s1">"乔峰&amp;慕容"</span>

<span class="c">/* 传输数据如下 */</span>
<span class="nt">body</span><span class="o">=%</span><span class="nt">E4</span><span class="o">%</span><span class="nt">B9</span><span class="o">%</span><span class="nt">94</span><span class="o">%</span><span class="nt">E5</span><span class="o">%</span><span class="nt">B3</span><span class="o">%</span><span class="nt">B0</span><span class="o">%</span><span class="nt">26</span><span class="o">%</span><span class="nt">E6</span><span class="o">%</span><span class="nt">85</span><span class="o">%</span><span class="nt">95</span><span class="o">%</span><span class="nt">E5</span><span class="o">%</span><span class="nt">AE</span><span class="o">%</span><span class="nt">B9</span><span class="o">&amp;</span><span class="nt">mch_id</span><span class="o">=</span><span class="nt">5a7bdfd22593414adb72df5f</span><span class="o">&amp;</span><span class="nt">nonce_str</span><span class="o">=</span><span class="nt">yyv6YJP436wCkdpNdghC</span><span class="o">&amp;</span><span class="nt">sign</span><span class="o">=</span><span class="nt">E34373734CE08B4B67BF46380E893F6B8F5486D2EDFE265BB8942C6A9BD5C897</span>
</code></pre>
<aside class="notice">
您已经选用的是 application/x-www-form-urlencoded, 所以不要忘记对传输的每个 value 做 urlencode()
</aside>

<aside class="notice">
计算签名是在 urlencode 之前签名. 开放平台的服务端验证签名前也会先做 urldecode().
</aside>
<h2 id='11769ac9b1'>生成随机数算法</h2>
<p>开放平台接口规范中包含字段 <code>nonce_str</code>, 主要保证签名不可预测. 我们推荐生成随机数算法如下: 调用随机数函数生成, 将得到的值转换为字符串.</p>
<h1 id='open_api'>open_api</h1><h2 id='post-open-goodsstock'>仓库库存查询 <code>POST</code> <code>/open/goodsStock</code></h2><pre class="highlight http tab-http"><code><span class="nf">POST</span> <span class="nn">/open/v1/orders</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">api-sandbox.fulfillment.com</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/x-www-form-urlencoded</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/json</span>
</code></pre>
<blockquote>
<p>请求示例</p>
</blockquote>
<pre class="highlight css tab-css"><code></code></pre>
<blockquote>
<p>请求示例参数说明</p>
</blockquote>
<pre class="highlight yaml tab-yaml"><code>
</code></pre><h3 id='405cb0a78a'>请求参数说明</h3>
<table><thead>
<tr>
<th>名称</th>
<th>数据类型</th>
<th>是否必填</th>
<th>说明</th>
</tr>
</thead><tbody>
<tr>
<td>barCode</td>
<td>string</td>
<td>true</td>
<td>条形码 多个用,隔开，验证正则  ^[\w-]+(,[\w-]+)*</td>
</tr>
<tr>
<td>warehouseId</td>
<td>string</td>
<td>false</td>
<td>仓库ID，不填默认全部仓库</td>
</tr>
<tr>
<td>goodsStatus</td>
<td>string</td>
<td>false</td>
<td>质量状态[normal]正品，默认[bad]残品</td>
</tr>
</tbody></table>

<blockquote>
<p>返回数据体示例</p>
</blockquote>
<pre class="highlight json tab-json"><code></code></pre><h3 id='2e096960b6'>返回数据体</h3>
<p><strong><em>data: Array[goodsStockInfo对象]，goodsStockInfo对象说明：</em></strong></p>

<table><thead>
<tr>
<th>名称</th>
<th>数据类型</th>
<th>说明</th>
</tr>
</thead><tbody>
<tr>
<td>availableInventory</td>
<td>integer</td>
<td>可售库存</td>
</tr>
<tr>
<td>totalInventory</td>
<td>integer</td>
<td>实物库存</td>
</tr>
<tr>
<td>inventory</td>
<td>integer</td>
<td>可用库存</td>
</tr>
</tbody></table>
<h2 id='post-open-returnwarehouseadd'>出库单添加 <code>POST /open/returnWarehouseAdd</code></h2><pre class="highlight http tab-http"><code><span class="nf">POST</span> <span class="nn">/open/v1/orders</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">api-sandbox.fulfillment.com</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/x-www-form-urlencoded</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/json</span>
</code></pre>
<blockquote>
<p>请求示例</p>
</blockquote>
<pre class="highlight css tab-css"><code></code></pre>
<blockquote>
<p>请求示例参数说明</p>
</blockquote>
<pre class="highlight yaml tab-yaml"><code>
</code></pre><h3 id='405cb0a78a-2'>请求参数说明</h3>
<table><thead>
<tr>
<th>名称</th>
<th>数据类型</th>
<th>是否必填</th>
<th>说明</th>
</tr>
</thead><tbody>
<tr>
<td>warehouseId</td>
<td>string</td>
<td>true</td>
<td>仓库ID</td>
</tr>
<tr>
<td>consigneeName</td>
<td>string</td>
<td>true</td>
<td>收货人</td>
</tr>
<tr>
<td>consigneePhone</td>
<td>string</td>
<td>true</td>
<td>联系方式</td>
</tr>
<tr>
<td>province</td>
<td>string</td>
<td>true</td>
<td>省</td>
</tr>
<tr>
<td>city</td>
<td>string</td>
<td>true</td>
<td>市</td>
</tr>
<tr>
<td>district</td>
<td>string</td>
<td>true</td>
<td>区</td>
</tr>
<tr>
<td>postalCode</td>
<td>string</td>
<td>true</td>
<td>邮编</td>
</tr>
<tr>
<td>consigneeAddress</td>
<td>string</td>
<td>true</td>
<td>详细地址</td>
</tr>
<tr>
<td>goods</td>
<td>string</td>
<td>true</td>
<td>出库商品json, 详细说明在下方</td>
</tr>
<tr>
<td>orderSn</td>
<td>string</td>
<td>true</td>
<td>外部订单号</td>
</tr>
<tr>
<td>status</td>
<td>string</td>
<td>false</td>
<td>[1]待审核</td>
</tr>
<tr>
<td>type</td>
<td>string</td>
<td>false</td>
<td>[1]退供出库</td>
</tr>
<tr>
<td>channelSource</td>
<td>string</td>
<td>false</td>
<td>来源渠道</td>
</tr>
<tr>
<td>nodeSn</td>
<td>string</td>
<td>false</td>
<td>网点编码</td>
</tr>
<tr>
<td>logistics</td>
<td>string</td>
<td>false</td>
<td>配送方式【物流 logistics】 【快递express】 【 到仓自取self】</td>
</tr>
<tr>
<td>outTime</td>
<td>string</td>
<td>false</td>
<td>期望出库时间</td>
</tr>
<tr>
<td>goodsStatus</td>
<td>string</td>
<td>false</td>
<td>【normal】正品  【bad】残品</td>
</tr>
<tr>
<td>remark</td>
<td>string</td>
<td>false</td>
<td>备注</td>
</tr>
</tbody></table>

<p><strong><em>goods字段：出库商品json说明</em></strong></p>

<table><thead>
<tr>
<th>名称</th>
<th>数据类型</th>
<th>是否必填</th>
<th>说明</th>
</tr>
</thead><tbody>
<tr>
<td>sellerGoodsId</td>
<td>string</td>
<td>true</td>
<td>商品id</td>
</tr>
<tr>
<td>number</td>
<td>string</td>
<td>true</td>
<td>商品数量</td>
</tr>
</tbody></table>

<blockquote>
<p>返回数据体示例</p>
</blockquote>
<pre class="highlight json tab-json"><code></code></pre><h3 id='2e096960b6-2'>返回数据体</h3>
<p>无</p>
<h2 id='post-order-addorder'>发货单新增 <code>POST</code> <code>/Order/addOrder</code></h2><pre class="highlight http tab-http"><code><span class="nf">POST</span> <span class="nn">/open/v1/orders</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">api-sandbox.fulfillment.com</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/x-www-form-urlencoded</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/json</span>
</code></pre>
<blockquote>
<p>请求示例</p>
</blockquote>
<pre class="highlight css tab-css"><code></code></pre>
<blockquote>
<p>请求示例参数说明</p>
</blockquote>
<pre class="highlight yaml tab-yaml"><code>
</code></pre><h3 id='405cb0a78a-3'>请求参数说明</h3>
<table><thead>
<tr>
<th>名称</th>
<th>数据类型</th>
<th>是否必填</th>
<th>说明</th>
</tr>
</thead><tbody>
<tr>
<td>platformSourceId</td>
<td>string</td>
<td>true</td>
<td>wms端添加的货主店铺主键ID</td>
</tr>
<tr>
<td>orderSn</td>
<td>string</td>
<td>true</td>
<td>订单号</td>
</tr>
<tr>
<td>orderSourceId</td>
<td>string</td>
<td>true</td>
<td>订单主键ID</td>
</tr>
<tr>
<td>code</td>
<td>string</td>
<td>true</td>
<td>地址code</td>
</tr>
<tr>
<td>postalCode</td>
<td>string</td>
<td>true</td>
<td>邮编</td>
</tr>
<tr>
<td>consigneeName</td>
<td>string</td>
<td>true</td>
<td>收件人名称</td>
</tr>
<tr>
<td>consigneeAddress</td>
<td>string</td>
<td>true</td>
<td>收件人详细地址</td>
</tr>
<tr>
<td>phoneNumber</td>
<td>string</td>
<td>true</td>
<td>联系电话</td>
</tr>
<tr>
<td>buyerMessage</td>
<td>string</td>
<td>true</td>
<td>买家留言</td>
</tr>
<tr>
<td>paidPrice</td>
<td>string</td>
<td>true</td>
<td>订单金额</td>
</tr>
<tr>
<td>logisticCharge</td>
<td>string</td>
<td>true</td>
<td>运费</td>
</tr>
<tr>
<td>totalPrice</td>
<td>string</td>
<td>true</td>
<td>订单总金额</td>
</tr>
<tr>
<td>payMode</td>
<td>string</td>
<td>true</td>
<td>支付方式  【1】货到付款  【2】银行转账</td>
</tr>
<tr>
<td>goods</td>
<td>string</td>
<td>true</td>
<td>订单商品list[订单商品信息的json]</td>
</tr>
<tr>
<td>type</td>
<td>string</td>
<td>true</td>
<td>订单类型 [1]销售订单 (默认) [2]补货订单</td>
</tr>
<tr>
<td>deliverySn</td>
<td>string</td>
<td>true</td>
<td>原发货单号(type=2时必填)</td>
</tr>
</tbody></table>

<p><em>goods字段: 订单商品信息的json说明</em></p>

<table><thead>
<tr>
<th>名称</th>
<th>数据类型</th>
<th>是否必填</th>
<th>说明</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>string</td>
<td>true</td>
<td>商品id</td>
</tr>
<tr>
<td>num</td>
<td>string</td>
<td>true</td>
<td>商品数量</td>
</tr>
<tr>
<td>price</td>
<td>string</td>
<td>true</td>
<td>商品单价</td>
</tr>
</tbody></table>

<blockquote>
<p>返回数据体示例</p>
</blockquote>
<pre class="highlight json tab-json"><code></code></pre><h3 id='2e096960b6-3'>返回数据体</h3>
<p>无</p>
<h2 id='post-arrival_notice-create'>入库通知单新增 <code>POST</code> <code>/arrival_notice/create</code></h2><pre class="highlight http tab-http"><code><span class="nf">POST</span> <span class="nn">/open/v1/orders</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">api-sandbox.fulfillment.com</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/x-www-form-urlencoded</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/json</span>
</code></pre>
<blockquote>
<p>请求示例</p>
</blockquote>
<pre class="highlight css tab-css"><code></code></pre>
<blockquote>
<p>请求示例参数说明</p>
</blockquote>
<pre class="highlight yaml tab-yaml"><code>
</code></pre>
<p><code>/open/goodsStock</code></p>
<h3 id='405cb0a78a-4'>请求参数说明</h3>
<table><thead>
<tr>
<th>名称</th>
<th>数据类型</th>
<th>是否必填</th>
<th>说明</th>
</tr>
</thead><tbody>
<tr>
<td>aaaaaa</td>
<td>string</td>
<td>true</td>
<td>bbbbbbb</td>
</tr>
<tr>
<td>aaaaaa</td>
<td>string</td>
<td>true</td>
<td>bbbbbbb</td>
</tr>
<tr>
<td>aaaaaa</td>
<td>string</td>
<td>true</td>
<td>bbbbbbb</td>
</tr>
<tr>
<td>aaaaaa</td>
<td>string</td>
<td>true</td>
<td>bbbbbbb</td>
</tr>
<tr>
<td>aaaaaa</td>
<td>string</td>
<td>true</td>
<td>bbbbbbb</td>
</tr>
<tr>
<td>aaaaaa</td>
<td>string</td>
<td>true</td>
<td>bbbbbbb</td>
</tr>
<tr>
<td>aaaaaa</td>
<td>string</td>
<td>true</td>
<td>bbbbbbb</td>
</tr>
<tr>
<td>aaaaaa</td>
<td>string</td>
<td>true</td>
<td>bbbbbbb</td>
</tr>
<tr>
<td>aaaaaa</td>
<td>string</td>
<td>true</td>
<td>bbbbbbb</td>
</tr>
<tr>
<td>aaaaaa</td>
<td>string</td>
<td>true</td>
<td>bbbbbbb</td>
</tr>
<tr>
<td>aaaaaa</td>
<td>string</td>
<td>true</td>
<td>bbbbbbb</td>
</tr>
<tr>
<td>aaaaaa</td>
<td>string</td>
<td>true</td>
<td>bbbbbbb</td>
</tr>
<tr>
<td>aaaaaa</td>
<td>string</td>
<td>true</td>
<td>bbbbbbb</td>
</tr>
<tr>
<td>aaaaaa</td>
<td>string</td>
<td>true</td>
<td>bbbbbbb</td>
</tr>
</tbody></table>

<blockquote>
<p>返回数据体示例</p>
</blockquote>
<pre class="highlight json tab-json"><code></code></pre><h3 id='2e096960b6-4'>返回数据体</h3>
<p><strong><em>data: Array[goodsStockInfo对象]，goodsStockInfo对象说明：</em></strong></p>

<table><thead>
<tr>
<th>名称</th>
<th>数据类型</th>
<th>说明</th>
</tr>
</thead><tbody>
<tr>
<td>availableInventory</td>
<td>integer</td>
<td>可售库存</td>
</tr>
<tr>
<td>totalInventory</td>
<td>integer</td>
<td>实物库存</td>
</tr>
<tr>
<td>inventory</td>
<td>integer</td>
<td>可用库存</td>
</tr>
</tbody></table>
<h2 id='post-rollback_order-add'>销退单新增 <code>POST</code> <code>/rollback_order/add</code></h2><pre class="highlight http tab-http"><code><span class="nf">POST</span> <span class="nn">/open/v1/orders</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">api-sandbox.fulfillment.com</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/x-www-form-urlencoded</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/json</span>
</code></pre>
<blockquote>
<p>请求示例</p>
</blockquote>
<pre class="highlight css tab-css"><code></code></pre>
<blockquote>
<p>请求示例参数说明</p>
</blockquote>
<pre class="highlight yaml tab-yaml"><code>
</code></pre>
<p><code>/open/goodsStock</code></p>
<h3 id='405cb0a78a-5'>请求参数说明</h3>
<table><thead>
<tr>
<th>名称</th>
<th>数据类型</th>
<th>是否必填</th>
<th>说明</th>
</tr>
</thead><tbody>
<tr>
<td>aaaaaa</td>
<td>string</td>
<td>true</td>
<td>bbbbbbb</td>
</tr>
<tr>
<td>aaaaaa</td>
<td>string</td>
<td>true</td>
<td>bbbbbbb</td>
</tr>
<tr>
<td>aaaaaa</td>
<td>string</td>
<td>true</td>
<td>bbbbbbb</td>
</tr>
<tr>
<td>aaaaaa</td>
<td>string</td>
<td>true</td>
<td>bbbbbbb</td>
</tr>
<tr>
<td>aaaaaa</td>
<td>string</td>
<td>true</td>
<td>bbbbbbb</td>
</tr>
<tr>
<td>aaaaaa</td>
<td>string</td>
<td>true</td>
<td>bbbbbbb</td>
</tr>
<tr>
<td>aaaaaa</td>
<td>string</td>
<td>true</td>
<td>bbbbbbb</td>
</tr>
<tr>
<td>aaaaaa</td>
<td>string</td>
<td>true</td>
<td>bbbbbbb</td>
</tr>
<tr>
<td>aaaaaa</td>
<td>string</td>
<td>true</td>
<td>bbbbbbb</td>
</tr>
<tr>
<td>aaaaaa</td>
<td>string</td>
<td>true</td>
<td>bbbbbbb</td>
</tr>
<tr>
<td>aaaaaa</td>
<td>string</td>
<td>true</td>
<td>bbbbbbb</td>
</tr>
<tr>
<td>aaaaaa</td>
<td>string</td>
<td>true</td>
<td>bbbbbbb</td>
</tr>
<tr>
<td>aaaaaa</td>
<td>string</td>
<td>true</td>
<td>bbbbbbb</td>
</tr>
<tr>
<td>aaaaaa</td>
<td>string</td>
<td>true</td>
<td>bbbbbbb</td>
</tr>
</tbody></table>

<blockquote>
<p>返回数据体示例</p>
</blockquote>
<pre class="highlight json tab-json"><code></code></pre><h3 id='2e096960b6-5'>返回数据体</h3>
<p><strong><em>data: Array[goodsStockInfo对象]，goodsStockInfo对象说明：</em></strong></p>

<table><thead>
<tr>
<th>名称</th>
<th>数据类型</th>
<th>说明</th>
</tr>
</thead><tbody>
<tr>
<td>availableInventory</td>
<td>integer</td>
<td>可售库存</td>
</tr>
<tr>
<td>totalInventory</td>
<td>integer</td>
<td>实物库存</td>
</tr>
<tr>
<td>inventory</td>
<td>integer</td>
<td>可用库存</td>
</tr>
</tbody></table>
<h1 id='b4de2c052f'>常量表</h1>
<h2 id="response_code">返回码 (code)</h2>

<table><thead>
<tr>
<th>Code</th>
<th>Meaning</th>
</tr>
</thead><tbody>
<tr>
<td>1</td>
<td>成功</td>
</tr>
<tr>
<td>0</td>
<td>系统内部错误</td>
</tr>
<tr>
<td>1000</td>
<td>数据校验错误</td>
</tr>
<tr>
<td>1001</td>
<td>客户不存在</td>
</tr>
<tr>
<td>1002</td>
<td>签名不通过</td>
</tr>
<tr>
<td>1003</td>
<td>订单已存在</td>
</tr>
<tr>
<td>1004</td>
<td>发件地匹配不到</td>
</tr>
<tr>
<td>1005</td>
<td>目的地匹配不到</td>
</tr>
<tr>
<td>1006</td>
<td>订单不存在</td>
</tr>
<tr>
<td>1007</td>
<td>仓库不存在</td>
</tr>
<tr>
<td>1008</td>
<td>该用户暂未开通COD服务</td>
</tr>
<tr>
<td>1009</td>
<td>COD不能小于0</td>
</tr>
<tr>
<td>1010</td>
<td>当前客户存在未完成的揽件通知，无需发送通知</td>
</tr>
<tr>
<td>1015</td>
<td>已揽收的订单不可作废</td>
</tr>
<tr>
<td>1018</td>
<td>发件地和仓库不能都为空</td>
</tr>
<tr>
<td>1019</td>
<td>包裹号pno和客户mchId不匹配</td>
</tr>
<tr>
<td>1020</td>
<td>保价不能小于0</td>
</tr>
<tr>
<td>1021</td>
<td>发件地址邮政编码只能是5位的数字</td>
</tr>
<tr>
<td>1022</td>
<td>发件地址暂未开通服务</td>
</tr>
</tbody></table>

<h2 id="express_category">产品类型 (expressCategory)</h2>

<table><thead>
<tr>
<th>Code</th>
<th>Meaning</th>
</tr>
</thead><tbody>
<tr>
<td>1</td>
<td>标准配送</td>
</tr>
</tbody></table>

<h2 id="article_category">物品类型 (articleCategory)</h2>

<table><thead>
<tr>
<th>Code</th>
<th>Meaning</th>
</tr>
</thead><tbody>
<tr>
<td>0</td>
<td>文件</td>
</tr>
<tr>
<td>1</td>
<td>食品</td>
</tr>
<tr>
<td>2</td>
<td>日用品</td>
</tr>
<tr>
<td>3</td>
<td>数码产品</td>
</tr>
<tr>
<td>4</td>
<td>衣物</td>
</tr>
<tr>
<td>5</td>
<td>其他</td>
</tr>
</tbody></table>
<h1 id='demo'>Demo 下载</h1>
<h2 id="demo-csharp">C# Demo</h2>

<p><a href="download/CSharpDemo.rar">C# Demo</a></p>

<h2 id="demo-php">PHP Demo</h2>

<p><a href="download/flashDemo.php.zip">PHP Demo</a></p>

<h2 id="demo-java">Java Demo</h2>

<p><a href="download/OpenTest.java.zip">Java Demo</a></p>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="http">HTTP</a>
          </div>
      </div>
    </div>
  </body>
</html>
